<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarity: A Minimalist Website Template for AI Research</title>
    <meta name="description" content="We've presented Clarity, a minimalist and elegant website template for AI research.">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="robots" content="all">
    <meta content="en_EN" property="og:locale">
    <meta content="website" property="og:type">
    <meta content="https://shikun.io/projects/clarity" property="og:url">
    <meta content="MDF" property="og:title">
    <meta content="Website Template for AI Research" property="og:description">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@your_twitter_id">
    <meta name="twitter:description" content="Clarity: A Minimalist Website Template for AI Research">
    <meta name="twitter:image:src" content="assets/figures/clarity.png">

    <link rel="stylesheet" type="text/css" media="all" href="assets/stylesheets/main_free.css" />
    <link rel="stylesheet" type="text/css" media="all" href="clarity/clarity.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/foundation.min.css">
    <link href="assets/fontawesome-free-6.6.0-web/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/styles.css"/>
    <script defer src="https://cdn.jsdelivr.net/npm/img-comparison-slider@8/dist/index.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            "HTML-CSS": {
              scale: 95,
              fonts: ["Gyre-Pagella"],
              imageFont: null,
              undefinedFamily: "'Arial Unicode MS', cmbright"
            },
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                processEscapes: true
              }
          });
    </script>
    <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <!-- Title Page -->
    <!-- Dark Theme Example: Change the background colour dark and change the following div "blog-title" into "blog-title white". -->
    <div class="container blog" id="first-content" style="background-color: #E0E4E6;">
        <!-- If you don't have a project cover: Change "blog-title" into "blog-title no-cover"  -->
        <div class="blog-title">
            <div class="blog-intro">
                <div>
                    <h1 class="title"> Multiplane Diffusion Features (MDF): Depth-Aware Editing in Diffusion Models with Multiplane Representation</h1>
                    <p class="abstract">
                        Recent advancements in large-scale diffusion models have enabled several 2D image editing applications (changing object appearances, or 2D scene layouts). In this work, we propose a generalized zero-shot framework to perform depth-aware editing, such as inserting objects at a certain depth with diffusion models. Multiplane Image (MPI) representation, which decomposes an image into multiple planes placed at a fixed depth, is well-suited for depth-aware editing by allowing independent edits to each plane before recomposition. 
                    </p>
                    <p class="abstract">
                        However, directly editing multiplane representation in the pixel space often fails to capture complex scene effects, such as lighting, color harmonization, and shadow generation. To address this, we introduce multiplane representation into the feature space of pretrained diffusion models, harnessing their rich image priors to ensure natural image generation while performing consistent depth-aware editing. Thus, we propose  \textit{Multiplane Diffusion Features} (MDF), a multiplane representation of the denoising UNet's internal features. MDF is highly expressive, enabling realistic, depth-consistent edits. Still, direct manipulation of MDF disrupts the native latent distribution of the diffusion model. To address this, we introduce an MDF guidance mechanism that gradually guides the latents towards the intended target edit, preserving distributional consistency throughout the denoising process. We validate our approach on two depth-aware editing tasks: a) object insertion that preserves object and scene identity with seamless blending, and b) depth based composition of two real scenes with accurate lighting. Our method outperforms object placement and image composition baselines in quantitative evaluations and a user study.
                    </p>
                   
                </div>
               
                <div class="info">
                    <div>
                        <a href="https://github.com/lorenmt/clarity-template" class="button icon" style="background-color: rgba(255, 255, 255, 0.25); margin-bottom: 0;">Source Code <i class="fa-solid fa-code"></i></a>
                    </div>
                </div>
            </div>

            <div class="blog-cover">
                <img class="foreground" src="assets/figures/clarity.png">
                <img class="background" src="assets/figures/clarity.png">
            </div>
        </div>
    </div>

<!-- 
    <div class="container blog main first" id="blog-main">
        <h1>
            Introduction
        </h1>
        <p class='text'>
            Clarity merges designs I've developed over the years for my prior AI research projects. By open-sourcing this template, I hope to benefit the AI and broader science community, by providing a clean and hackable website solution to better present and visualise research. 
        </p>

        <p class="text">
            In today's AI research landscape, particularly with the rise of generative AI, it's increasingly beneficial for AI researchers to include interactive blog posts alongside research publications. Additional media materials and online demos, popularised by <a href="https://github.com/gradio-app/awesome-demos">Gradio Demos</a>, can make research more accessible and engaging to a broader audience. While large corporations can easily leverage teams of graphic designers and writers to polish their design and writing, Ph.D. students and independent AI researchers often lack the time and resources to do so. Clarity bridges this gap by offering an aesthetically pleasing, easy-to-navigate template for presenting AI research, simplifying the process of creating visually appealing technical blog posts.
        </p>

    </div> -->

    <!-- <div class="container blog main gray">
            <img src="clarity/images/vit.png">
            <p class="caption">
                We split an image into fixed-size patches, linearly embed each of them, add position embeddings, and feed the resulting sequence of vectors to a standard Transformer encoder. In order to perform classification, we use the standard approach of adding an extra learnable “classification token” (represented as a gray image patch) to the sequence.  
            </p>
        </div>
    </div>

    <div class="container blog main">
        <h2 >
            Container Layouts
        </h2>
        <p class="text">
            In Clarity, I have provided container widths with five options: <code>main</code>, <code>large</code>, <code>extra-large</code>, <code>extra-extra-large</code>, and <code>max</code>. These container layouts are designed to be responsive, automatically adjusting based on the screen size.  The default width is <code>main</code>, which is used for this blog post. Be cautious when using the <code>max</code> option, as it has zero padding. Unless you are certain of the design, it's always recommended to leave some space for visual aesthetic purposes.
        </p>

        <p class="text">
        Here is an example I designed, illustrating the architectural details in <a href="https://shikun.io/projects/prismer">Prismer</a> using the <code>extra-large</code> container width.
        </p>
    </div>

    <div class="container blog extra-large gray">
        <img src="clarity/images/prismer.png">
        <p class="caption">
            Prismer has two main trainable components: the <b>Experts Resampler</b> that converts variable multi-task signals to a fixed number of outputs, and the <b>Adaptor</b> that enhances the model's expressivity for vision-language reasoning. To ensure that the model takes advantage of the rich domain-specific knowledge encoded in the pre-trained experts, the majority of network weights are frozen during training, as represented by the snowflake icon.
        </p>
    </div>

    <div class="container blog main">
        <h2>
            Container Colour
        </h2>

        <p class="text">
            In both visual diagram examples above, I used the <code>gray</code> option for the container to apply a subtle tint of gray, helping to distinguish it from the main container. This option is ideal for visual diagrams with a transparent background. For visual diagrams with a white background, I included the <code>gray-linear</code> option. This feature adds a tint of gray only to the edges of the container while keeping the center white, maintaining a clean and cohesive appearance while still providing distinct visual separation.  
        </p>

        <p class="text">
            Here is an example illustrated in <a href="https://shikun.io/projects/variational-shape-learner">VSL</a> using the <code>gray-linear</code> container colour.
        </p>
    </div> -->
<!-- 
    <div class="container blog extra-large gray-linear">
        <p class="caption inline">
          <b>Inter-Class Shape Morphing</b>  
        </p>
        <div class="columns-4">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_inter1.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_inter2.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_inter3.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_inter4.gif">
        </div>
        <p class="caption inline">
            <b>Intra-Class Shape Morphing</b>
        </p>
        <div class="columns-4">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_intra1.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_intra2.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_intra3.gif">
            <img src="https://shikun.io/projects/vsl/shape_morph/morph_intra4.gif">
        </div>
        <p class="caption">Note that, although these animations have a white background, they beautifully blend within this container. </p>
    </div> -->

    <div class="container blog main">
        <h2 style="text-align: center;">
            Depth-Aware Scene Composition
        </h2>
        
        <p class="text", style="text-align: justify;">
            Our method can generate realistic compositions of background and foreground scenes in a depth-aware manner.
            The proposed method generates realistic compositions with appropriate illumination interactions while preserving foreground and background content. 
        </p>
    </div>

    <div class="container blog main gray extra-large">
        
        <p class="text" style="text-align: center; color: rgba(4, 4, 127, 0.993); font-style: italic;">
            Hover over the background images to compose the scene with selected background image.
        </p>
        <div class="grid2x3-container" id="grid2x3">
            <!-- Grid Item 1 -->
            <div class="grid2x3-item">
                <div class="grid2x3-image-container">
                    <div class="grid2x3-thumbnails-wrapper">
                        <h4 class="thumbnail-title" style="text-align: center;">Background</h4>
                        <div class="grid2x3-thumbnails-container">
                            <img src="assets/figures/sc/ref/2_ref1.png" alt="Thumbnail 1" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-1" data-hover-src="assets/figures/sc/res/2_1.png">
                            <img src="assets/figures/sc/ref/2_ref3.jpg" alt="Thumbnail 2" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-1" data-hover-src="assets/figures/sc/res/2_3.png">
                            <img src="assets/figures/sc/ref/2_ref5.jpg" alt="Thumbnail 3" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-1" data-hover-src="assets/figures/sc/res/2_5.png">
                        </div>
                    </div>
                    <div class="grid2x3-large-image-wrapper">
                        <h4 class="Output" style="text-align: center; margin-top: 10px;">Output</h4> 
                        <img src="assets/figures/sc/src/2.png" alt="Large Image 1" class="grid2x3-large-image" id="grid2x3-large-image-1">
                    </div>
                </div>
            </div>
            <!-- Repeat Grid Items 2 to 6 -->
            <!-- Grid Item 2 -->
            <div class="grid2x3-item">
                <div class="grid2x3-image-container">
                    <div class="grid2x3-thumbnails-wrapper">
                        <h4 class="thumbnail-title" style="text-align: center;">Background</h4>
                        <div class="grid2x3-thumbnails-container">
                            <img src="assets/figures/sc/ref/2_ref1.png" alt="Thumbnail 1" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-2" data-hover-src="assets/figures/sc/res/2_1.png">
                            <img src="assets/figures/sc/ref/2_ref3.jpg" alt="Thumbnail 2" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-2" data-hover-src="assets/figures/sc/res/2_3.png">
                            <img src="assets/figures/sc/ref/2_ref5.jpg" alt="Thumbnail 3" class="grid2x3-thumbnail"
                                data-target="grid2x3-large-image-2" data-hover-src="assets/figures/sc/res/2_5.png">
                        </div>
                    </div>
                    <div class="grid2x3-large-image-wrapper">
                        <h4 class="Output" style="text-align: center; margin-top: 10px;">Output</h4> 
                        <img src="assets/figures/sc/src/2.png" alt="Large Image 2" class="grid2x3-large-image" id="grid2x3-large-image-2">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container blog main">
        <h2 style="text-align: center;">
            Depth-Aware Object Placement 
        </h2>
        <p class="text", style="text-align: justify;">
            Our method can insert an object, given with a single object image at a precise depth, while respecting occlusions and naturally blending the object in the scene. 
        </p>
    </div>  

        
    <div class="container blog main gray extra-large">
        <p class="text" style="text-align: center; color: rgba(4, 4, 127, 0.993); font-style: italic;">
            Hover over the background images to place the object in the scene.
        </p>
        <div class="columns-4">
            <!-- Grid Item 1 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 1" class="main-image" id="large-image-1">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 1" class="small-image"
                             data-target="large-image-1" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 2 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 2" class="main-image" id="large-image-2">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 2" class="small-image"
                             data-target="large-image-2" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 3 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 3" class="main-image" id="large-image-3">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 3" class="small-image"
                             data-target="large-image-3" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 4 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 4" class="main-image" id="large-image-4">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 4" class="small-image"
                             data-target="large-image-4" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Repeat for additional grid items -->
        </div>

        <div class="columns-4">
            <!-- Grid Item 1 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 1" class="main-image" id="large-image-1">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 1" class="small-image"
                             data-target="large-image-1" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 2 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 2" class="main-image" id="large-image-2">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 2" class="small-image"
                             data-target="large-image-2" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 3 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 3" class="main-image" id="large-image-3">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 3" class="small-image"
                             data-target="large-image-3" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Grid Item 4 -->
            <div class="grid-item">
                <div class="image-wrapper">
                    <img src="assets/figures/ob/src/2.png" alt="Main Image 4" class="main-image" id="large-image-4">
                    <div class="overlay-container">
                        <img src="assets/figures/ob/ref/2_ref.png" alt="Small Image 4" class="small-image"
                             data-target="large-image-4" data-hover-src="assets/figures/ob/res/2_1.png">
                    </div>
                </div>
            </div>
            <!-- Repeat for additional grid items -->
        </div>
    </div> 


    
    <div class="container blog main">
        <h2>
            Comparison Display
        </h2>
        
        <p class="text">
            The Comparison Display feature allows users to visualise two images side by side with a controllable slider, making it easy to compare visual results against a baseline. This feature is particularly useful for showcasing improvements or differences between two images. Here is an example using upsampled images generated with <a href="https://mingukkang.github.io/GigaGAN/">GigaGAN</a>.
        </p>
    </div>
    <div class="container blog main gray extra-large">
        <div class="columns-2">
            <img-comparison-slider class="slider-container white">
                <figure slot="first" class="before">
                    <img src="https://mingukkang.github.io/GigaGAN/static/images/iguana_input.jpg">
                    <figcaption class="white">Input Image (128px)</figcaption>
                </figure>
                <figure slot="second" class="after">
                    <img src="https://mingukkang.github.io/GigaGAN/static/images/iguana_output.jpg">
                    <figcaption class="white">GigaGAN Upsampled (1024px)</figcaption>
                </figure>
            </img-comparison-slider>
            <img-comparison-slider class="slider-container">
                <figure slot="first" class="before">
                    <img src="https://mingukkang.github.io/GigaGAN/static/images/plant_input.jpg">
                    <figcaption>Input Image (128px)</figcaption>
                </figure>
                <figure slot="second" class="after">
                    <img src="https://mingukkang.github.io/GigaGAN/static/images/plant_output.jpg">
                    <figcaption>GigaGAN Upsampled (1024px)</figcaption>
                </figure>
            </img-comparison-slider>
        </div>
        
        <p class="caption">
            Our GigaGAN framework can also be used to train an efficient, higher-quality upsampler. This can be applied to real images, or to the outputs of other text-to-image models like diffusion. GigaGAN can synthesize ultra high-res images at 4k resolution in 3.66 seconds.
        </p>
    </div>
    
    <!-- Footer Page -->
    <footer>
        <div class="container">
            <p>
                This website is built on the <a href="https://shikun.io/projects/clarity">Clarity Template</a>, designed by <a href="https://shikun.io/">Shikun Liu</a>.
            </p>
        </div>    
    </footer>
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="clarity/clarity.js"></script>    
    <script src="assets/scripts/main.js"></script>    

    <script>
        // JavaScript to handle hover interaction for small images
        document.querySelectorAll('.small-image').forEach(smallImage => {
            let originalSrc; // Variable to store the original src
        
            smallImage.addEventListener('mouseenter', () => {
                // Get the target large image ID and hover source
                const targetId = smallImage.getAttribute('data-target');
                const hoverSrc = smallImage.getAttribute('data-hover-src');
        
                // Change the large image's source
                const largeImage = document.getElementById(targetId);
                if (largeImage) {
                    originalSrc = largeImage.src; // Save the original src
                    largeImage.src = hoverSrc;
                }
            });
        
            smallImage.addEventListener('mouseleave', () => {
                // Restore the original source of the large image
                const targetId = smallImage.getAttribute('data-target');
                const largeImage = document.getElementById(targetId);
                if (largeImage && originalSrc) {
                    largeImage.src = originalSrc;
                }
            });
        });
        </script>
    
    
    <script>
        // JavaScript to handle hover interaction for small images in the 2x3 grid
        document.addEventListener('DOMContentLoaded', () => {
            // Scope the selection to the 2x3 grid container
            const grid2x3Container = document.getElementById('grid2x3');
            if (grid2x3Container) {
                grid2x3Container.querySelectorAll('.grid2x3-thumbnail').forEach(thumbnail => {
                    thumbnail.addEventListener('mouseenter', () => {
                        const targetId = thumbnail.getAttribute('data-target');
                        const hoverSrc = thumbnail.getAttribute('data-hover-src');
                        const largeImage = grid2x3Container.querySelector(`#${targetId}`);
            
                        if (largeImage) {
                            // Save the original src if not already saved
                            if (!largeImage.hasAttribute('data-original-src')) {
                                largeImage.setAttribute('data-original-src', largeImage.src);
                            }
                            largeImage.src = hoverSrc;
                        }
                    });
            
                    thumbnail.addEventListener('mouseleave', () => {
                        const targetId = thumbnail.getAttribute('data-target');
                        const largeImage = grid2x3Container.querySelector(`#${targetId}`);
            
                        if (largeImage && largeImage.hasAttribute('data-original-src')) {
                            largeImage.src = largeImage.getAttribute('data-original-src');
                            largeImage.removeAttribute('data-original-src'); // Clean up
                        }
                    });
                });
            }
        });
        </script>

    </html>
</body>